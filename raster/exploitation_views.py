# -*- coding: utf-8 -*-
import logging
import datetime
import json
import psycopg2
import MySQLdb as msql
import rasterio as rio
import datetime
import fiona
import numpy as np
import random
import rasterstats
from django.core import serializers
from pyproj import Proj,transform
from django.views.decorators.http import require_POST
from django.template import loader
from django.http import HttpResponse, JsonResponse,HttpResponseRedirect
from .models import *
import libcarine3
from libcarine3 import *
import logins
import django.utils.timezone as tz
import os
import itertools
from django.views.decorators.cache import never_cache
import urllib.request
from rasterio import merge,windows
from rasterio.windows import from_bounds
import affine
from rasterstats import zonal_stats
from django.conf import settings
from django.shortcuts import redirect
from django.contrib.auth import authenticate, login, logout
from django.contrib.auth.models import User
from django.contrib.auth.decorators import login_required
from django.urls import reverse
import urllib.request
from django.views.decorators.cache import never_cache

@login_required(login_url='accounts/login/?next=inf-carine3/carinev3/raster')    
def exploitation(request):
    """Index."""
    template = loader.get_template('exploitation/exploitation.html')
    context = {'ctx_list': Context.objects.all(),'ctx_active':Context.objects.get(active=True),'db': settings.DATABASES}
    return HttpResponse(template.render(context, request))
def exploitation_js(request):
    """Application (Javascript)."""
    template = loader.get_template('exploitation/exploitation.js')
    context = {}
    return HttpResponse(template.render(context, request))
    
def get_menu(request):

    return HttpResponse('')