#!/usr/bin/env python3.6
# coding: utf-8

"""Colors / Scales to plot air quality data."""


from matplotlib.colors import LinearSegmentedColormap
import matplotlib.colors as col
import matplotlib.cm as cm
import matplotlib.pyplot as plt
import numpy as np
colors=[
    '#32B8A3',#0<10
    '#32B8A3',#10<20
    '#5CCB60',#20<30
    '#99E600',#30<40
    '#C3F000',#40<50
    '#FFFF00',#50<60
    '#FFD100',
    '#FFAA00',
    '#FF5E00',
    '#FF0000',
    '#800000'
    ]
def get_vals(pol):
    if (pol=='O3'):
        res=[0,54,72,90,108,126,144,162,180,240]
    elif (pol=='NO2'):
        res=[0,60,80,100,120,140,160,180,200,400]
    elif (pol=='PM10'):
        res=[0,15,20,25,30,35,40,45,50,80]
    elif (pol=='MULTI'):
        res=[0,20,30,40,50,60,70,80,90,100]
    return res

#utilitaire pr convertir la le hex en rgb
def to_rgb(ls):
    rgb=[]
    for c in ls:
        r=round(int(('0x'+c[1:3]),16)/255,2)
        g=round(int(('0x'+c[3:5]),16)/255,2)
        b=round(int(('0x'+c[5:7]),16)/255,2)
        rgb.append((r,g,b))
    return rgb

    
def discrete_cmap(cols):
    N=len(cols)
    """create a colormap with N (N<15) discrete colors and register it"""
    # define individual colors as hex values
    cmap3=LinearSegmentedColormap('generic',aqvl_rgb_discrete)
    #cmap3 = col.ListedColormap(cols[0:N])
    
    return cmap3
# Echelle de couleur pour matplotlib
# ((mem_arr<=10)*0.2)+
# ((mem_arr>10)*(mem_arr<=20)) * 0.36+
# ((mem_arr>20)*(mem_arr<=30)) * 0.6+
# ((mem_arr>30)*(mem_arr<=40)) * 0.76+
# ((mem_arr>40)*(mem_arr<=50)) * 1+
# ((mem_arr>50)*(mem_arr<=60)) * 1+
# ((mem_arr>60)*(mem_arr<=70)) * 1+
# ((mem_arr>70)*(mem_arr<=80)) * 1+
# ((mem_arr>80)*(mem_arr<=90)) * 1+
# ((mem_arr>90)*(mem_arr<=100)) * 1+
# ((mem_arr>100)*0.5)

aqvl_rgb = {
    'red': (
        (0.000, 0.8, 0.2),
        (0.100, 0.2, 0.2),
        (0.200, 0.36,0.36),
        (0.300, 0.6, 0.6),
        (0.400, 0.76, 0.76),
        (0.500, 1.00, 1.00),
        (0.60 , 1.00, 1.00),
        (0.70 , 1.00,1.00),
        (0.80 , 1.00, 1.00),
        (0.90 , 1.00, 1.00),
        (1.000, 0.50, 0.50),
    ),
    'green': (
        (0.000, 0.72, 0.72),
        (0.100, 0.72, 0.72),
        (0.200, 0.8, 0.8),
        (0.300, 0.9, 0.9),
        (0.400, 0.940, 0.94),
        (0.500, 1.0, 1.00),
        (0.60 , 0.82, 0.820),
        (0.70 , 0.67, 0.670),
        (0.80 , 0.37, 0.370),
        (0.90 , 0.00, 0.00),
        (1.000, 0.00,0.0),
    ),
    'blue': (
        (0.000, 0.64, 0.64),
        (0.100, 0.64, 0.64),
        (0.200, 0.38, 0.38),
        (0.300, 0.00, 0.00),
        (0.400, 0.00, 0.00),
        (0.500, 0.00, 0.00),
        (0.60 , 0.00, 0.00),
        (0.70 , 0.00, 0.00),
        (0.80 , 0.00, 0.00),
        (0.90 , 0.00, 0.00),
        (1.000, 0.00, 0.0),
    ),
    'alpha': (
        
        (0.000, 1, 1),
        (0.1, 1, 1),
        (0.200, 1, 1),
        (1.000, 1, 1),
    )
}
aqvl_rgb_discrete = {
    'red': (
        (0.000, 0.2, 0.2),
		(0.099, 0.2, 0.2),
        (0.100, 0.2, 0.2),
        (0.1999, 0.2, 0.2),
        (0.200, 0.36,0.36),
        (0.2999, 0.36,0.36),
        (0.300, 0.6, 0.6),
		(0.399, 0.6, 0.6),
        (0.400, 0.76, 0.76),
		(0.499, 0.76, 0.76),
        (0.500, 1.00, 1.00),
		(0.599, 1.00, 1.00),
        (0.60 , 1.00, 1.00),
		(0.699 , 1.00, 1.00),
        (0.70 , 1.00,1.00),
		(0.799 , 1.00,1.00),
        (0.80 , 1.00, 1.00),
		(0.899 , 1.00, 1.00),
        (0.90 , 1.00, 1.00),
		(0.999, 1.00,1.00),
        (1.000, 0.50, 0.50),
    ),
    'green': (
        (0.000, 0.72, 0.72),
		(0.099, 0.72, 0.72),
        (0.100, 0.72, 0.72),
                (0.1999, 0.72, 0.72),
        (0.200, 0.8, 0.8),
                (0.2999, 0.8, 0.8),
        (0.300, 0.9, 0.9),
                (0.399, 0.9, 0.9),
        (0.400, 0.940, 0.94),
                (0.499, 0.940, 0.94),
        (0.500, 1.0, 1.00),
                (0.599, 1.0, 1.00),
        (0.60 , 0.82, 0.820),
                (0.699 , 0.82, 0.820),
        (0.70 , 0.67, 0.670),
                (0.799 , 0.67, 0.670),
        (0.80 , 0.37, 0.370),
                (0.899 , 0.37, 0.370),
        (0.90 , 0.00, 0.00),
                (0.999 , 0.00, 0.00),
        (1.000, 0.00,0.0),
    ),
    'blue': (
        (0.000, 0.64, 0.64),
		(0.099, 0.64, 0.64),
        (0.100, 0.64, 0.64),
        (0.1999, 0.64, 0.64),
        (0.200, 0.38, 0.38),
        (0.2999, 0.38, 0.38),
        (0.300, 0.00, 0.00),
        (0.400, 0.00, 0.00),
        (0.500, 0.00, 0.00),
        (0.60 , 0.00, 0.00),
        (0.70 , 0.00, 0.00),
        (0.80 , 0.00, 0.00),
        (0.90 , 0.00, 0.00),
        (1.000, 0.00, 0.0),
    ),
    'alpha': (

        (0, 1, 1),
        (0.20, 1, 1),


        (1.000, 1, 1),
    )
}
full_normalized={
    0 : (50, 184, 163),
    1 : (50, 184, 163),
    2 : (50, 184, 163),
    3 : (50, 184, 163),
    4 : (50, 184, 163),
    5 : (50, 184, 163),
    6 : (50, 184, 163),
    7 : (50, 184, 163),
    8 : (50, 184, 163),
    9 : (50, 184, 163),
    10 : (50, 184, 163),
    11 : (50, 184, 163),
    12 : (50, 184, 163),
    13 : (50, 184, 163),
    14 : (50, 184, 163),
    15 : (50, 184, 163),
    16 : (50, 184, 163),
    17 : (50, 184, 163),
    18 : (50, 184, 163),
    19 : (50, 184, 163),
    20 : (92, 203, 96),
    21 : (92, 203, 96),
    22 : (92, 203, 96),
    23 : (92, 203, 96),
    24 : (92, 203, 96),
    25 : (92, 203, 96),
    26 : (0,0,0),
    27 : (0,0,0),
    28 : (0,0,0),
    29 : (0,0,0),
    30 : (0,0,0),
    31 : (0,0,0),
    32 : (0,0,0),
    33 : (0,0,0),
    34 : (0,0,0),
    35 : (0,0,0),
    36 : (0,0,0),
    37 : (0,0,0),
    38 : (0,0,0),
    39 : (0,0,0),
    40 : (0,0,0),
    41 : (0,0,0),
    42 : (0,0,0),
    43 : (0,0,0),
    44 : (0,0,0),
    45 : (0,0,0),
    46 : (0,0,0),
    47 : (0,0,0),
    48 : (0,0,0),
    49 : (0,0,0),
    50 : (0,0,0),
    51 : (0,0,0),
    52 : (0,0,0),
    53 : (0,0,0),
    54 : (0,0,0),
    55 : (0,0,0),
    56 : (0,0,0),
    57 : (0,0,0),
    58 : (0,0,0),
    59 : (0,0,0),
    60 : (0,0,0),
    61 : (0,0,0),
    62 : (0,0,0),
    63 : (0,0,0),
    64 : (0,0,0),
    65 : (0,0,0),
    66 : (0,0,0),
    67 : (0,0,0),
    68 : (0,0,0),
    69 : (0,0,0),
    70 : (0,0,0),
    71 : (0,0,0),
    72 : (0,0,0),
    73 : (0,0,0),
    74 : (0,0,0),
    75 : (0,0,0),
    76 : (0,0,0),
    77 : (0,0,0),
    78 : (0,0,0),
    79 : (0,0,0),
    80 : (0,0,0),
    81 : (0,0,0),
    82 : (0,0,0),
    83 : (0,0,0),
    84 : (0,0,0),
    85 : (0,0,0),
    86 : (0,0,0),
    87 : (0,0,0),
    88 : (0,0,0),
    89 : (0,0,0),
    90 : (0,0,0),
    91 : (0,0,0),
    92 : (0,0,0),
    93 : (0,0,0),
    94 : (0,0,0),
    95 : (0,0,0),
    96 : (0,0,0),
    97 : (0,0,0),
    98 : (0,0,0),
    99 : (0,0,0),
    100 : (0,0,0),
    101 : (0,0,0),
    102 : (0,0,0),
    103 : (0,0,0),
    104 : (0,0,0),
    105 : (0,0,0),
    106 : (0,0,0),
    107 : (0,0,0),
    108 : (0,0,0),
    109 : (0,0,0),
    110 : (0,0,0),
    111 : (0,0,0),
    112 : (0,0,0),
    113 : (0,0,0),
    114 : (0,0,0),
    115 : (0,0,0),
    116 : (0,0,0),
    117 : (0,0,0),
    118 : (0,0,0),
    119 : (0,0,0),
    120 : (0,0,0),
    121 : (0,0,0),
    122 : (0,0,0),
    123 : (0,0,0),
    124 : (0,0,0),
    125 : (0,0,0),
    126 : (0,0,0),
    127 : (0,0,0),
    128 : (0,0,0),
    129 : (0,0,0),
    130 : (0,0,0),
    131 : (0,0,0),
    132 : (0,0,0),
    133 : (0,0,0),
    134 : (0,0,0),
    135 : (0,0,0),
    136 : (0,0,0),
    137 : (0,0,0),
    138 : (0,0,0),
    139 : (0,0,0),
    140 : (0,0,0),
    141 : (0,0,0),
    142 : (0,0,0),
    143 : (0,0,0),
    144 : (0,0,0),
    145 : (0,0,0),
    146 : (0,0,0),
    147 : (0,0,0),
    148 : (0,0,0),
    149 : (0,0,0),
    150 : (0,0,0),
    151 : (0,0,0),
    152 : (0,0,0),
    153 : (0,0,0),
    154 : (0,0,0),
    155 : (0,0,0),
    156 : (0,0,0),
    157 : (0,0,0),
    158 : (0,0,0),
    159 : (0,0,0),
    160 : (0,0,0),
    161 : (0,0,0),
    162 : (0,0,0),
    163 : (0,0,0),
    164 : (0,0,0),
    165 : (0,0,0),
    166 : (0,0,0),
    167 : (0,0,0),
    168 : (0,0,0),
    169 : (0,0,0),
    170 : (0,0,0),
    171 : (0,0,0),
    172 : (0,0,0),
    173 : (0,0,0),
    174 : (0,0,0),
    175 : (0,0,0),
    176 : (0,0,0),
    177 : (0,0,0),
    178 : (0,0,0),
    179 : (0,0,0),
    180 : (0,0,0),
    181 : (0,0,0),
    182 : (0,0,0),
    183 : (0,0,0),
    184 : (0,0,0),
    185 : (0,0,0),
    186 : (0,0,0),
    187 : (0,0,0),
    188 : (0,0,0),
    189 : (0,0,0),
    190 : (0,0,0),
    191 : (0,0,0),
    192 : (0,0,0),
    193 : (0,0,0),
    194 : (0,0,0),
    195 : (0,0,0),
    196 : (0,0,0),
    197 : (0,0,0),
    198 : (0,0,0),
    199 : (0,0,0),
    200 : (0,0,0),
    201 : (0,0,0),
    202 : (0,0,0),
    203 : (0,0,0),
    204 : (0,0,0),
    205 : (0,0,0),
    206 : (0,0,0),
    207 : (0,0,0),
    208 : (0,0,0),
    209 : (0,0,0),
    210 : (0,0,0),
    211 : (0,0,0),
    212 : (0,0,0),
    213 : (0,0,0),
    214 : (0,0,0),
    215 : (0,0,0),
    216 : (0,0,0),
    217 : (0,0,0),
    218 : (0,0,0),
    219 : (0,0,0),
    220 : (0,0,0),
    221 : (0,0,0),
    222 : (0,0,0),
    223 : (0,0,0),
    224 : (0,0,0),
    225 : (0,0,0),
    226 : (0,0,0),
    227 : (0,0,0),
    228 : (0,0,0),
    229 : (0,0,0),
    230 : (0,0,0),
    231 : (0,0,0),
    232 : (0,0,0),
    233 : (0,0,0),
    234 : (0,0,0),
    235 : (0,0,0),
    236 : (0,0,0),
    237 : (0,0,0),
    238 : (0,0,0),
    239 : (0,0,0),
    240 : (0,0,0),
    241 : (0,0,0),
    242 : (0,0,0),
    243 : (0,0,0),
    244 : (0,0,0),
    245 : (0,0,0),
    246 : (0,0,0),
    247 : (0,0,0),
    248 : (0,0,0),
    249 : (0,0,0),
    250 : (0,0,0),
    251 : (0,0,0),
    252 : (0,0,0),
    253 : (0,0,0),
    254 : (0,0,0),
    255 : (0,0,0)}